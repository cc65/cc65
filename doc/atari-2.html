<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.69">
 <TITLE>Atari specific information for cc65: Binary format</TITLE>
 <LINK HREF="atari-3.html" REL=next>
 <LINK HREF="atari-1.html" REL=previous>
 <LINK HREF="atari.html#toc2" REL=contents>
</HEAD>
<BODY>
<A HREF="atari-3.html">Next</A>
<A HREF="atari-1.html">Previous</A>
<A HREF="atari.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2.</A> <A HREF="atari.html#toc2">Binary format</A></H2>


<P>The Atari DOS executable file format supports more than one load block (<I>chunk</I>).</P>
<P>The default binary output format generated by the linker for the
Atari target is a machine language program with a standard executable
header (FF FF &lt;load chunk #1&gt; ... &lt;load chunk #n&gt;).
A load chunk has the format [&lt;2 byte start address&gt; &lt;2 bytes end address&gt;
&lt;chunk data&gt;].
A run vector is added to the end of the
file ($02E0 $02E1 &lt;run vector&gt;) and is calculated using
the <CODE>start</CODE> label in crt0.s.  (Technically the run vector is also a load chunk,
but is not regarded as such here.)</P>
<P>An <CODE>atari</CODE> program has two load chunks, an <CODE>atarixl</CODE> program has three load
chunks.  The load chunks are defined in the linker configuration files.  For more
detailed information about the load chunks see the chapter
<A HREF="atari-9.html#techdetail">Technical details</A>. For the discussion here it's
sufficient to know that the first load chunk(s) do preparation work and the
main part of the program is in the last load chunk.</P>
<P>The values determining the size of the main part of the program (the only load
chunk for <CODE>atari</CODE>, the third load chunk for <CODE>atarixl</CODE>) are calculated in
the crt0.s file from the __STARTUP_LOAD__ and __BSS_LOAD__ values.
Be aware of that if you create a custom linker config file and start moving segments around (see section
<A HREF="atari-10.html#memhole">Reserving a memory area inside the program</A>).</P>


<HR>
<A HREF="atari-3.html">Next</A>
<A HREF="atari-1.html">Previous</A>
<A HREF="atari.html#toc2">Contents</A>
</BODY>
</HTML>

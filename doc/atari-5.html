<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.69">
 <TITLE>Atari specific information for cc65: Loadable drivers</TITLE>
 <LINK HREF="atari-6.html" REL=next>
 <LINK HREF="atari-4.html" REL=previous>
 <LINK HREF="atari.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="atari-6.html">Next</A>
<A HREF="atari-4.html">Previous</A>
<A HREF="atari.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5.</A> <A HREF="atari.html#toc5">Loadable drivers</A></H2>


<P>The names in the parentheses denote the symbols to be used for static linking of the drivers.</P>


<H2><A NAME="ss5.1">5.1</A> <A HREF="atari.html#toc5.1">Graphics drivers</A>
</H2>


<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
<CODE>atari</CODE></TD><TD><CODE>atarixl</CODE></TD><TD>screen resolution</TD><TD>display pages</TD></TR><TR><TD>
<CODE>atr3.tgi (atr3_tgi)</CODE></TD><TD><CODE>atrx3.tgi (atrx3_tgi)</CODE></TD><TD>40x24x4 (CIO mode 3, ANTIC mode 8)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr4.tgi (atr4_tgi)</CODE></TD><TD><CODE>atrx4.tgi (atrx4_tgi)</CODE></TD><TD>80x48x2 (CIO mode 4, ANTIC mode 9)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr5.tgi (atr5_tgi)</CODE></TD><TD><CODE>atrx5.tgi (atrx5_tgi)</CODE></TD><TD>80x48x4 (CIO mode 5, ANTIC mode A)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr6.tgi (atr6_tgi)</CODE></TD><TD><CODE>atrx6.tgi (atrx6_tgi)</CODE></TD><TD>160x96x2 (CIO mode 6, ANTIC mode B)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr7.tgi (atr7_tgi)</CODE></TD><TD><CODE>atrx7.tgi (atrx7_tgi)</CODE></TD><TD>160x96x4 (CIO mode 7, ANTIC mode D)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr8.tgi (atr8_tgi)</CODE></TD><TD><CODE>atrx8.tgi (atrx8_tgi)</CODE></TD><TD>320x192x2 (CIO mode 8, ANTIC mode F)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr8p2.tgi (atr8p2_tgi)</CODE></TD><TD><CODE>atrx8p2.tgi (atrx8p2_tgi)</CODE></TD><TD>320x192x2 (CIO mode 8, ANTIC mode F)</TD><TD>2</TD></TR><TR><TD>
<CODE>atr9.tgi (atr9_tgi)</CODE></TD><TD><CODE>atrx9.tgi (atrx9_tgi)</CODE></TD><TD>80x192x16b (CIO mode 9, ANTIC mode F, GTIA mode $40)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr9p2.tgi (atr9p2_tgi)</CODE></TD><TD><CODE>atrx9p2.tgi (atrx9p2_tgi)</CODE></TD><TD>80x192x16b (CIO mode 9, ANTIC mode F, GTIA mode $40)</TD><TD>2</TD></TR><TR><TD>
<CODE>atr10.tgi (atr10_tgi)</CODE></TD><TD><CODE>atrx10.tgi (atrx10_tgi)</CODE></TD><TD>80x192x9 (CIO mode 10, ANTIC mode F, GTIA mode $80)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr10p2.tgi (atr10p2_tgi)</CODE></TD><TD><CODE>atrx10p2.tgi (atrx10p2_tgi)</CODE></TD><TD>80x192x9 (CIO mode 10, ANTIC mode F, GTIA mode $80)</TD><TD>2</TD></TR><TR><TD>
<CODE>atr11.tgi (atr11_tgi)</CODE></TD><TD><CODE>atrx11.tgi (atrx11_tgi)</CODE></TD><TD>80x192x16h (CIO mode 11, ANTIC mode F, GTIA mode $C0)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr14.tgi (atr14_tgi)</CODE></TD><TD><CODE>atrx14.tgi (atrx14_tgi)</CODE></TD><TD>160x192x2 (CIO mode 14, ANTIC mode C)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr15.tgi (atr15_tgi)</CODE></TD><TD><CODE>atrx15.tgi (atrx15_tgi)</CODE></TD><TD>160x192x4 (CIO mode 15, ANTIC mode E)</TD><TD>1</TD></TR><TR><TD>
<CODE>atr15p2.tgi (atr15p2_tgi)</CODE></TD><TD><CODE>atrx15p2.tgi (atrx15p2_tgi)</CODE></TD><TD>160x192x4 (CIO mode 15, ANTIC mode E)</TD><TD>2</TD></TR></TABLE>
</CENTER><BR>
</P>

<P>Many graphics modes require more memory than the text screen which is
in effect when the program starts up. Therefore the programmer has to
tell the program beforehand the memory requirements of the graphics
modes the program intends to use.</P>
<P>On the <CODE>atari</CODE> target his can be done by using the __RESERVED_MEMORY__
linker config variable. The number specified there describes the number
of bytes to subtract from the top of available memory as seen from the
runtime library. This memory is then used by the screen buffer.</P>
<P>On the <CODE>atarixl</CODE> target the screen memory resides below the program
load address.  In order to reserve memory for a graphics mode, one
simply uses a higher program load address.  There are restrictions on
selectable load addresses,
see 
<A HREF="atari-10.html#loadaddr">Selecting a good program load address</A>.</P>
<P>The numbers for the different graphics modes presented below should
only be seen as a rule of thumb. Since the screen buffer memory needs
to start at specific boundaries, the numbers depend on the current top
of available memory.
The following numbers were determined by a BASIC program.</P>
<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
graphics mode</TD><TD>reserved memory</TD></TR><TR><TD>
0</TD><TD>1</TD></TR><TR><TD>
1</TD><TD>1</TD></TR><TR><TD>
2</TD><TD>1</TD></TR><TR><TD>
3</TD><TD>1</TD></TR><TR><TD>
4</TD><TD>1</TD></TR><TR><TD>
5</TD><TD>182</TD></TR><TR><TD>
6</TD><TD>1182</TD></TR><TR><TD>
7</TD><TD>3198</TD></TR><TR><TD>
8</TD><TD>7120</TD></TR><TR><TD>
9</TD><TD>7146</TD></TR><TR><TD>
10</TD><TD>7146</TD></TR><TR><TD>
11</TD><TD>7146</TD></TR><TR><TD>
12</TD><TD>162</TD></TR><TR><TD>
13</TD><TD>1</TD></TR><TR><TD>
14</TD><TD>3278</TD></TR><TR><TD>
15</TD><TD>7120</TD></TR><TR><TD>
16</TD><TD>1</TD></TR><TR><TD>
17</TD><TD>1</TD></TR><TR><TD>
18</TD><TD>1</TD></TR><TR><TD>
19</TD><TD>1</TD></TR><TR><TD>
20</TD><TD>1</TD></TR><TR><TD>
21</TD><TD>184</TD></TR><TR><TD>
22</TD><TD>1192</TD></TR><TR><TD>
23</TD><TD>3208</TD></TR><TR><TD>
24</TD><TD>7146</TD></TR><TR><TD>
25</TD><TD>7146</TD></TR><TR><TD>
26</TD><TD>7146</TD></TR><TR><TD>
27</TD><TD>7146</TD></TR><TR><TD>
28</TD><TD>162</TD></TR><TR><TD>
29</TD><TD>1</TD></TR><TR><TD>
30</TD><TD>3304</TD></TR><TR><TD>
31</TD><TD>7146
</TD></TR></TABLE>
<CAPTION>reserved memory required for different graphics modes</CAPTION>
</CENTER><BR>
</P>
<P>The values of "1" are needed because the graphics command crashes if
it doesn't have at least one byte available. This seems to be a bug of
the Atari ROM code.</P>

<H2><A NAME="ss5.2">5.2</A> <A HREF="atari.html#toc5.2">Extended memory drivers</A>
</H2>


<P>Currently there is only one extended memory driver.  It manages the second 64K of a 130XE.</P>
<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
<CODE>atari</CODE></TD><TD><CODE>atarixl</CODE></TD></TR><TR><TD>
<CODE>atr130.emd (atr130_emd)</CODE></TD><TD><CODE>atrx130.emd (atrx130_emd)</CODE></TD></TR></TABLE>
</CENTER><BR>
</P>

<H2><A NAME="ss5.3">5.3</A> <A HREF="atari.html#toc5.3">Joystick drivers</A>
</H2>


<P>Currently there are two joystick drivers available:</P>
<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
<CODE>atari</CODE></TD><TD><CODE>atarixl</CODE></TD><TD>description</TD></TR><TR><TD>
<CODE>atrstd.joy (atrstd_joy)</CODE></TD><TD><CODE>atrxstd.joy (atrxstd_joy)</CODE></TD><TD>Supports up to two/four standard joysticks connected to the joystick ports of the Atari. (Four on the pre-XL systems, two on XL or newer.)</TD></TR><TR><TD>
<CODE>atrmj8.joy (atrmj8_joy)</CODE></TD><TD><CODE>atrxmj8.joy (atrxmj8_joy)</CODE></TD><TD>Supports up to eight standard joysticks connected to a MultiJoy adapter.</TD></TR></TABLE>
<CAPTION></CAPTION>
</CENTER><BR>
</P>


<H2><A NAME="ss5.4">5.4</A> <A HREF="atari.html#toc5.4">Mouse drivers</A>
</H2>


<P>Currently there are no mouse drivers available for the Atari
platform.</P>


<H2><A NAME="ss5.5">5.5</A> <A HREF="atari.html#toc5.5">RS232 device drivers</A>
</H2>


<P>Currently there are no RS232 drivers available for the Atari
platform.</P>


<HR>
<A HREF="atari-6.html">Next</A>
<A HREF="atari-4.html">Previous</A>
<A HREF="atari.html#toc5">Contents</A>
</BODY>
</HTML>
